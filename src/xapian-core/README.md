
## how to install

```shell
# for dev
sudo dnf --disablerepo='*' --enablerepo=copr:copr.fedorainfracloud.org:ttys3:my-fedora-packages reinstall xapian-core xapian-core-devel xapian-core-libs

# for debug
sudo dnf --disablerepo='*' --enablerepo=copr:copr.fedorainfracloud.org:ttys3:my-fedora-packages reinstall xapian-core-debuginfo xapian-core-debugsource xapian-core-libs-debuginfo
```

## compile troubleshoot

```
checking whether g++ is a working C++ compiler... yes
./configure: line 18129: syntax error near unexpected token `17'
./configure: line 18129: `AX_CXX_COMPILE_STDCXX(17)'
```

```shell
sudo dnf install -y autoconf-archive
autoreconf -ifv
```

how to manual build:

```shell
/usr/bin/make -O -j10 V=1 VERBOSE=1

/usr/bin/make install DESTDIR=$(pwd)/result INSTALL="/usr/bin/install -p"
```


## notice

xapian header file path

1.5 is
```
/usr/include/xapian-1.5/xapian.h
/usr/include/xapian-1.5/xapian/*.h
```

1.4.x is
```
/usr/include/xapian.h
/usr/include/xapian/*.h
```

## tar ball issue

doxgen version too old, has dynsections.js missing bug

Generated by Doxygen 1.8.13

Fedora 38 local is Generated by Doxygen 1.9.6

we can generate our self tar ball

```
git clone https://github.com/xapian/xapian
cd xapian
./bootstrap --download-tools=never

sudo dnf builddep xapian-core-devel
sudo dnf install -y doxygen

./configure \
--enable-shared=yes \
--with-python3=no \
--with-python=no \
--with-php=no \
--with-ruby=no \
--with-tcl=no \
--with-csharp=no \
--with-java=no \
--with-perl=no \
--with-lua=no

cd xapian-core
make dist-xz
```

